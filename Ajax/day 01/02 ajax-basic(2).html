<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>AJAX快速上手---发送请求</title>

    </head>
    <body>
    <script>
        // 涉及到 AJAX 操作的页面"不能"使用文件协议访问（文件的方式访问 file：）
        // AJAX是一套API，核心提供的类型是：XMLHttpRequest

        // 1、安装浏览器（用户代理）
        // xhr就类似于浏览器的作用（发送请求，接收响应）
        var xhr = new XMLHttpRequest();

        // 如果需要捕获第一个状态的变化，需要注意代码执行顺序的问题，不要出现来不及的情况
        // // 4、等待响应
        // // 因为响应需要时间，因此无法通过返回值的方式返回响应
        // // var respons=xhr.send();
        // // console.log(respons);
        // // 因为客户端永远不知道服务端何时才能返回我们需要的响应
        // // 所以AJAX API 采用时间的机制
        // xhr.onreadystatechange=function () {
        //     // 这个事件不是只在响应时触发，而是状态改变时触发
        //     // console.log(1);
        //     console.log(this.readyState);
        // };

        // 2、打开浏览器输入网址
        // xhr.open('GET','地址');
        xhr.open('GET', './time.php');

        // 3、 敲回车键，开始请求
        xhr.send();

        // 4、等待响应
        // 因为响应需要时间，因此无法通过返回值的方式返回响应
        // var respons=xhr.send();
        // console.log(respons);
        // 因为客户端永远不知道服务端何时才能返回我们需要的响应
        // 所以AJAX API 采用时间的机制
        xhr.onreadystatechange = function () {
            // 这个事件不是只在响应时触发，xhr状态改变时触发
            // console.log(1);
            // console.log(this.readyState);
            if (this.readyState !== 4) return
            // responseTex获取响应的内容（响应体）
            console.log(this.responseText);
        };

        // 5、看结果
    </script>
    </body>
</html>